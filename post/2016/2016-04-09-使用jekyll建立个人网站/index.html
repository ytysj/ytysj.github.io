<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="一个简单的小小站">
    <title>液态氧斯基•小小站</title>
    <link rel="stylesheet" href="https://ytysj.github.io/css/style.css">
    <link rel="canonical" href="https://ytysj.github.io/post/2016/2016-04-09-%E4%BD%BF%E7%94%A8jekyll%E5%BB%BA%E7%AB%8B%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/">
    
	
	<link href="https://ytysj.github.io/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
	<link rel="stylesheet" href="https://ytysj.github.io/css/jquery.fancybox.min.css" />
	<link rel="stylesheet" href="https://ytysj.github.io/highlight styles/vs.css">
	
	<script src="https://ytysj.github.io/js/jquery-3.3.1.min.js"></script>	
	<script src="https://ytysj.github.io/js/jquery.fancybox.min.js"></script>
	<script src="https://ytysj.github.io/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
  </head>
  <body>
  </body>

<section id="post">
  <div class="head">
      <div class="avatar">
          <a href="https://ytysj.github.io/" target="_parent"><img src="/image/avatar.jpg"></a>
      </div>
      <div class="title"> 使用jekyll建立个人网站 </div>
	  <div class="subtitle">
		<div class="date">2016年04月09日</div>
		<div class="tags">
		
		  
			<a href="https://ytysj.github.io/tags/jekyll">jekyll</a>
		  
			<a href="https://ytysj.github.io/tags/%E7%BD%91%E7%AB%99">网站</a>
		  
		
		</div>
	  </div>
  </div>
  
  <div class="content">

<h1 id="前言">前言</h1>

<p>本人在4.1日之前属于完完全全不懂github、jekyll、CSS、HTML、markdown这些东西的，但是这几天探索和学习基本算是能看懂并且建立一个完整的博客了。</p>

<h1 id="一-了解背景">一.了解背景</h1>

<p>首先，我们要了解github和jekyll,也就是我们建立博客的靠山，全靠他们。作为开源代码库以及版本控制系统，github深受程序员的喜爱，堪称是代码届的facebook。在Github上，我们能上传并托管自己的开源项目，也可以从别人的开源项目中fork或是clone东西过来自己修改。</p>

<p>为了方便大家展示自己的开源项目，Github提供了一个免费的网页，不限流量，同时速度也非常可观。而jekyll，正是github的创始人之一，Tom Preston-Werner所开发的一个静态博客系统。同时，网上也提供了大量的主题来给大家使用。我们可以方便地从别人已经提供的成品博客项目那边fork过来，修改参数，即可食用。</p>

<p>各位完全可以把我的github项目fork或者clone出来，自己修改写作。(但是请麻烦您点一下右上角的star来支持一下，谢谢~)<a href="https://github.com/ytysj/ytysj.github.io/tree/master/image/myblog3">ytysj/ytysj.github.io</a></p>

<p>我也是在阅读某个大神的博客<a href="http://pengzhihui.xyz/">稚晖的个人站</a>里偶然知道可以使用jekyll建立免费博客的。</p>

<h1 id="二-食用方法">二.食用方法</h1>

<p>我把步骤分为这几步：<br />
1.注册，下载<br />
2.创建项目，开启网页<br />
3.本地环境搭建<br />
4.更改配置<br />
5.开始写文章<br />
6.上传项目，发布网站</p>

<h2 id="1-注册-下载">1.注册，下载</h2>

<p>基本法第一条，注册Github账号！由于需要一个本地端来进行git操作，据说最好使用命令行，不要用客户端。但是我觉得SourceTree，作为git的<strong>图形化</strong>客户端，毕竟还是方便一些。当然也可以选择其他客户端甚至是命令行。<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/5.png" alt="" /></p>

<h2 id="2-创建项目-开启网页">2.创建项目，开启网页</h2>

<p>点击github网页上的加号，选择New repository,新建仓库。<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/1.png" alt="" /><br />
注意，这里Repository name<strong>一定要填写username（你的名字）.github.io</strong>，这是特殊的命名约定，然后打开仓库，在上面一栏里面选择settings，<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/2.png" alt="" /><br />
然后点击里面的Github Pages下面的Launch page generator，<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/3.png" alt="" /><br />
随便选择主题（没用的），下一步下一步，完成之后就可以通过username.github.io来进入你的主页了。此时的主页是自动生成的，并不是我们需要的东西，目录里多出的几个文件完全可以删掉。</p>

<h2 id="3-本地环境搭建">3.本地环境搭建</h2>

<p>首先，从<a href="http://rubyinstaller.org/downloads/">ruby官网</a>我们下载Ruby和DevKit，注意要版本符合(也就是x64Ruby下x64的DevKit)。<br />
Ruby的安装很简单，点就是了，安装完之后打开cmd命令行，输入</p>

<pre><code class="language-powershell">ruby -v
</code></pre>

<p>查看Ruby安装的版本号，出现就说明安装好了。<br />
然后安装DevKit，把压缩包解压到默认的地方(C:\DevKit)，进入DevKit目录，输入</p>

<pre><code class="language-powershell">cd c:/DevKit
ruby dk.rb init   #初始化
ruby dk.rb reviewruby   #检查
dk.rb install    #安装
</code></pre>

<p>cd那一步也可以按住shift右击DevKit文件夹，选择在此处打开命令窗口。</p>

<p>然后更改gem镜像，据说可以改善国内Ruby安装的速度（但是我在这一步选择<a href="https://ruby.taobao.org/">淘宝镜像</a>以及<a href="https://gems.ruby-china.org/">Ruby China镜像</a>，都出现了ERROR和FAIL的问题&hellip;没办法，最后我什么都没改，用官方的反而搞定了）</p>

<pre><code class="language-powershell">gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/
gem sources -l
*** CURRENT SOURCES ***

https://ruby.taobao.org
# 请确保只有 ruby.taobao.org
gem install rails
</code></pre>

<p>然后安装jekyll</p>

<pre><code class="language-powershell">gem install jekyll
</code></pre>

<p>安装rdiscount，就好了。</p>

<pre><code class="language-powershell">gem install rdiscount
</code></pre>

<p>接下来我们需要用SourceTree把项目下载下来，点击克隆/新建，<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/6.png" alt="" />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/7.png" alt="" /><br />
从github上获取链接填在上面，<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/8.png" alt="" /><br />
下面填本地地址。</p>

<p>接下来如果本地有什么更改之后，点击提交，把未暂存文件的钩打上，<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/9.png" alt="" /><br />
写好版本信息之后点击提交。然后点击推送，就可以把本地的文件push到github上。</p>

<p>为了方便，我们需要本地调试，好处是生效速度特别快，即改即看。
用同样的办法打开本地地址的命令行，输入</p>

<pre><code class="language-powershell">jekyll serve
</code></pre>

<p>如果没有ERROR，就可以进127.0.0.1:4000里本地调试了。 本地调试会生成_site文件夹存放我们的站点，不需要管它。</p>

<p>注：我碰到了端口占用的问题，参考<a href="http://www.cnblogs.com/lxconan/archive/2016/01/11/5119972.html">谁占了我的端口 for Windows</a>这篇文章，用netstat -ano和tasklist /svc /FI &ldquo;PID eq 11476&rdquo;查到到底是谁占用了这个4000端口。我和这位博主都是被福昕PDF的服务占用了。</p>

<h2 id="4-更改配置">4.更改配置</h2>

<p>修改配置和之后的很多操作需要换格式，我下载的是Notepad++。<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/4.png" alt="" /><br />
打开config.yml，修改里面的参数（把能改的都改了）。其中要注意的是我使用的评论系统是多说的，之前的作者是用谷歌的，所以我把_includes/comments.html完全修改了，如何修改多说网站上说的很清楚，照着网站说明更改就好。</p>

<p>照着里面的说明更换assets/images下的cover.jpg（index背景）和icon.png(头像)。建议不要改名字或是路径，因为不仅仅在config里指定了名字和路径，改起来太麻烦。然后还有一个是网站分析，config里已经写好，只要在google_analytics:后面把谷歌分析给你的代码放上去即可。</p>

<h2 id="5-开始写文章">5.开始写文章</h2>

<p>呼~终于到了这一步。在_posts下面存放我们的文章，要按照YYYY-MM-DD-TITLE.MD的格式来，比如文件名2016-04-02-firstblod.md。<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/11.png" alt="" /><br />
layout代表格式，不需要改，其中要注意的是image这个文章标题背景图片，我尝试使用外链来做，试了很久，并不成功。而且使用本地路径的时候需要记得在url:之后加上一个空格，然后才是/&hellip;/否则也不显示。以及写md的文章时，如果用2个#号来作为标题的话，需要在后面加上一个空格才能用。还有一个很重要的点是文件格式<strong>必须是UTF-8无BOM格式编码</strong>，如果用记事本修改的话，即便你保存的时候选择UTF-8格式，那也是不一样的。</p>

<p>对了，为了方便我们写的时候预览MD效果，我下载了MarkdownPad2，但是在win10下可能会出现预览失效问题，这时候需要下载安装Awesomium SDK。<br />
<img src="/image/2016/2016-04-09-使用jekyll建立个人网站/10.png" alt="" /></p>

<h2 id="6-上传项目-发布网站">6.上传项目，发布网站</h2>

<p>使用SourceTree上传，打开username（你的名字）.github.io，应该就OK了！</p>

<h1 id="三-注意事项">三.注意事项</h1>

<p>由于国内的特别，有很多服务需要更换掉，否则会影响访问速度。(似乎我都已经做了？)</p>

<p>其中一个是谷歌字体，我们需要在_includes/head.html里把</p>

<pre><code class="language-HTML">&lt;link rel=&quot;stylesheet&quot; href=&quot;//fonts.googleapis.com/css?family=Fenix:400,400italic&quot;&gt;
</code></pre>

<p>替换为</p>

<pre><code class="language-HTML">&lt;link rel=&quot;stylesheet&quot; href=&quot;//fonts.useso.com/css?family=Fenix:400,400italic&quot;&gt;
</code></pre>

<p>就是googleapis换成useso。<br />
  (2016.8.30注：由于360的useso加载缓慢，我更换了中科大博客的服务，即fonts.lug.ustc.edu.cn)</p>

<p>还有一个图标的问题，原本这个作者使用了genericons来提供图标，而我下载了font-awesome来替换，font-awesome网站库更全，有微博微信什么的，更棒。</p>

<p>在head.html里把</p>

<pre><code class="language-HTML">&lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/css/genericons&quot;&gt;
</code></pre>

<p>换成了</p>

<pre><code class="language-HTML">&lt;link rel=&quot;stylesheet&quot; href=&quot;/font-awesome/css/font-awesome.min.css&quot;&gt;
</code></pre>

<p>根据font-awesome规则，像我在_includes/top.html里用</p>

<pre><code class="language-HTML">&lt;span class=&quot;fa fa-align-left&quot;&gt;&lt;/span&gt;
</code></pre>

<p>就是表示4个横条，我用它来表示菜单图标，top.html里的多处地方本来是指向genericons，我都替换为fa fa-XXXX了。至于字体以及背景颜色，在/assets/css/default.css里，代码高亮的颜色设置在syntax.css里，都是属性，可以随意更改，建议上<a href="http://www.w3school.com.cn/css/css_font.asp">W3school</a>上学习这些属性并更改。</p>

<p>由于我还不会JS，暂时没有对网站做大幅度外观和效果的更改。</p>

<h1 id="四-感想与参考">四.感想与参考</h1>

<p>这几天学习了很多很多的前端知识，虽然建立一个个人博客用WordPress可能非常非常省事简单加无脑，但是用github-Page的好处就在于我还能学习到很多知识，如CSS、HTML、MD，并不是亏的，毕竟我还是新手。如果有什么问题，请留言或是发邮件咨询。</p>

<p>感谢以下文章：<br />
<a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">阮一峰-搭建一个免费的，无限流量的Blog&mdash;-github Pages和Jekyll入门</a><br />
<a href="http://www.ezlippi.com//blog/2015/03/github-pages-blog.html">利用github-pages建立个人博客 | Lippi-浮生志</a><br />
<a href="http://www.cnblogs.com/lxconan/archive/2016/01/11/5119972.html">谁占了我的端口 for Windows</a><br />
<a href="http://www.jianshu.com/p/609e1197754c">采用Jekyll + github + pygments构建个人博客的最终说明</a><br />
<a href="http://blog.csdn.net/huyoo/article/details/22078565">7个月之后,我在github上用pages搭建的博客终于看到东西了</a><br />
<a href="http://wowubuntu.com/markdown/">Markdown 语法说明 (简体中文版)</a><br />
<a href="http://waylau.com/jekyll-static-bog/?utm_source=tuicool&amp;utm_medium=referral">Jekyll安装及写静态博客</a><br />
<a href="http://www.w3school.com.cn/index.html">W3school</a></p>
</div>
  

     
  <span id="/post/2016/2016-04-09-%E4%BD%BF%E7%94%A8jekyll%E5%BB%BA%E7%AB%8B%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/" class="leancloud_visitors" data-flag-title="使用jekyll建立个人网站">
    <span class="post-meta-item-text">文章阅读量 </span>
    <span class="leancloud-visitors-count">--</span>
    <p></p>
  </span>
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'TUITCbuSyYcJ8ThdhGW8ovr4-9Nh9j0Va',
        appKey: 'Pm2PmK1h7rSO8AQdehhgRPG1',
        notify:  false , 
        verify:  false , 
        avatar:'retro', 
        placeholder: '说点什么吧...',
        visitor:  true 
    });
  </script>
 

</section>
<footer>
	<script type="text/javascript" src="http://tajs.qq.com/stats?sId=66190846" charset="UTF-8"></script>

	
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-75857373-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-75857373-1');
	</script>
	
	<br />
  &copy;
  
     
  2019 <a href="https://ytysj.github.io/" target="_parent">液态氧斯基•小小站</a>, powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/hoofs/Cat">Cat</a>.
</footer>
</body>
</html>

